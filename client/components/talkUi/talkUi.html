<div class="talk-ui">
  <div ng-switch="talkState" class="container">
    <div ng-switch-when="choose">
      <div>
        <h3>Choose</h3>
        <div class="choice">
          <div class="avatar">
            <img ng-click="onSelect(activity.district.kapitan)" class="avatar-clickable" ng-src="assets/images/avatars/{{activity.district.kapitan.image}}"></img><span>{{activity.district.kapitan.name}}</span>
          </div>
          <div class="avatar" ng-show="activity.district.specialist">
            <img ng-click="onSelect(activity.district.specialist)" class="avatar-clickable" ng-src="assets/images/avatars/{{activity.district.specialist.image}}"></img><span>{{activity.district.specialist.name}}</span>
          </div>
        </div>
      </div>
    </div>
    <div ng-switch-when="talk">
      <div>
        <h3>{{event.name}}</h3>
        <div class="avatar">
          <img class="avatar-clickable" ng-src="assets/images/avatars/{{selectedCharacter.image}}"></img>
        </div>
        <div class="dialog-text" tooltip-html-unsafe="{{dialog.effect | eventeffecttooltip}}">
          <div class="arrow-up center"></div>
        {{dialog.text}}
        </div>
        <div ng-show="dialog.choice" >
          <a class="btn" ng-click="gotoNext(choice.next, choice.effect, dialog)" ng-repeat="choice in dialog.choice" tooltip-html-unsafe="{{choice.effect | eventeffecttooltip}}">
            {{choice.text}}
          </a>
        </div>
        <div ng-hide="dialog.choice">
          <a class="btn" ng-click="gotoNext(dialog.next, dialog.effect, dialog)">(...)</a>
        </div>
      </div>
    </div>
    <div ng-switch-when="done">
      <div>
        {{finalMessage}}
      </div>
    </div>
    <div ng-switch-default>
    </div>
  </div>
  <!-- <p>
    <a class="btn btn-success" ng-click="onDone()" ng-show="talkState === 'done'" ng-class="{disabled: done}">Done</a>
  </p> -->
</div>
